<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PharmaFlow - Pharmacy Management System</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-pills"></i>
                    <span class="logo-text">PharmaFlow</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-module="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span class="nav-text">Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="pharmacy">
                            <i class="fas fa-clinic-medical"></i>
                            <span class="nav-text">Pharmacy</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="pharmacy-pos">
                                    <i class="fas fa-cash-register"></i>
                                    <span>POS</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="pharmacy-sales">
                                    <i class="fas fa-receipt"></i>
                                    <span>Today's Sales</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-module="all-sales">
                            <i class="fas fa-chart-line"></i>
                            <span class="nav-text">All Sales</span>
                        </a>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="prescription">
                            <i class="fas fa-prescription"></i>
                            <span class="nav-text">Prescription</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="prescription-generate">
                                    <i class="fas fa-file-medical"></i>
                                    <span>Generate Prescription</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="inventory">
                            <i class="fas fa-boxes"></i>
                            <span class="nav-text">Inventory</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="inventory-view">
                                    <i class="fas fa-list"></i>
                                    <span>View Inventory</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="inventory-add">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Add Inventory</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="orders">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="nav-text">My Orders</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="orders-create">
                                    <i class="fas fa-plus"></i>
                                    <span>Create Order</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="orders-view">
                                    <i class="fas fa-list-alt"></i>
                                    <span>View Orders</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="orders-supplier">
                                    <i class="fas fa-truck"></i>
                                    <span>Supplier</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="wholesale">
                            <i class="fas fa-warehouse"></i>
                            <span class="nav-text">Wholesale</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="wholesale-create">
                                    <i class="fas fa-plus"></i>
                                    <span>Create Wholesale</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="wholesale-manage">
                                    <i class="fas fa-tasks"></i>
                                    <span>Manage Wholesale</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="customers">
                            <i class="fas fa-users"></i>
                            <span class="nav-text">Customers</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="customers-add">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Add Customer</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="customers-manage">
                                    <i class="fas fa-users-cog"></i>
                                    <span>Manage Customers</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="expenses">
                            <i class="fas fa-money-bill-wave"></i>
                            <span class="nav-text">Expenses</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="expenses-add">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Add Expense</span>
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="expenses-manage">
                                    <i class="fas fa-file-invoice-dollar"></i>
                                    <span>Manage Expenses</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="reports">
                            <i class="fas fa-chart-bar"></i>
                            <span class="nav-text">Reports</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="reports-generate">
                                    <i class="fas fa-file-export"></i>
                                    <span>Generate Report</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-module="admin">
                            <i class="fas fa-user-shield"></i>
                            <span class="nav-text">Admin Panel</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li class="submenu-item">
                                <a href="#" class="submenu-link" data-module="admin-users">
                                    <i class="fas fa-users-cog"></i>
                                    <span>Manage Users</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <a href="#" class="nav-link" data-module="settings">
                    <i class="fas fa-cog"></i>
                    <span class="nav-text">Settings</span>
                </a>
            </div>
        </aside>

        <!-- Main Content Area -->
        <div class="main-wrapper">
            <!-- Top Bar -->
            <header class="topbar">
                <div class="topbar-left">
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="topbar-logo">
                        <i class="fas fa-pills"></i>
                        <span>PharmaFlow</span>
                    </div>
                </div>
                
                <div class="topbar-right">
                    <!-- Theme Toggle -->
                    <button class="topbar-btn theme-toggle" id="themeToggle" title="Toggle Theme">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <!-- Notifications -->
                    <div class="notification-wrapper">
                        <button class="topbar-btn notification-btn" id="notificationBtn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" style="display: none;">0</span>
                        </button>
                        <div class="notification-dropdown" id="notificationDropdown">
                            <div class="dropdown-header">
                                <h4>Notifications</h4>
                                <span class="mark-read">Mark all as read</span>
                            </div>
                            <div class="dropdown-body">
                                <div class="notification-empty">
                                    <i class="fas fa-bell-slash"></i>
                                    <p>No notifications</p>
                                </div>
                            </div>
                            <div class="dropdown-footer">
                                <a href="#">View all notifications</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Profile -->
                    <div class="profile-wrapper">
                        <button class="profile-btn" id="profileBtn">
                            <div class="profile-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <span class="profile-name">Admin</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="profile-dropdown" id="profileDropdown">
                            <div class="dropdown-header">
                                <div class="profile-info">
                                    <div class="profile-avatar large">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div>
                                        <h4>Administrator</h4>
                                        <p>admin@pharmaflow.com</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown-body">
                                <a href="#" class="dropdown-item">
                                    <i class="fas fa-user-circle"></i>
                                    <span>My Profile</span>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <i class="fas fa-cog"></i>
                                    <span>Account Settings</span>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <i class="fas fa-key"></i>
                                    <span>Change Password</span>
                                </a>
                            </div>
                            <div class="dropdown-footer">
                                <a href="#" class="dropdown-item logout">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>Logout</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Module -->
                <div class="module-content active" id="module-dashboard">
                    <div class="module-header">
                        <div class="module-header-content">
                            <div>
                                <h1>Dashboard</h1>
                                <p>Overview of your pharmacy operations</p>
                            </div>
                            <div class="dashboard-controls">
                                <div class="search-bar">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="dashboardSearch" placeholder="Search dashboard...">
                                </div>
                                <button class="refresh-btn" id="refreshDashboard">
                                    <i class="fas fa-sync-alt"></i>
                                    <span>Refresh</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="module-body">

                        <!-- Dashboard Stats Grid -->
                        <div class="dashboard-stats-grid">
                            <!-- Total Sales Today -->
                            <div class="stat-card" data-stat="sales-today">
                                <div class="stat-icon success">
                                    <i class="fas fa-cash-register"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="salesToday">KSH 0.00</h3>
                                    <p class="stat-label">Total Sales Today</p>
                                </div>
                            </div>

                            <!-- Overall Sales -->
                            <div class="stat-card" data-stat="overall-sales">
                                <div class="stat-icon primary">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="overallSales">KSH 0.00</h3>
                                    <p class="stat-label">Overall Sales</p>
                                </div>
                            </div>

                            <!-- Total Expenses Today -->
                            <div class="stat-card" data-stat="expenses-today">
                                <div class="stat-icon danger">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="expensesToday">KSH 0.00</h3>
                                    <p class="stat-label">Total Expenses Today</p>
                                </div>
                            </div>

                            <!-- Out of Stock Items -->
                            <div class="stat-card" data-stat="out-of-stock">
                                <div class="stat-icon warning">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="outOfStock">0</h3>
                                    <p class="stat-label">Out of Stock Items</p>
                                </div>
                            </div>

                            <!-- Items Expiring Soon -->
                            <div class="stat-card" data-stat="expiring-soon">
                                <div class="stat-icon danger">
                                    <i class="fas fa-calendar-times"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="expiringSoon">0</h3>
                                    <p class="stat-label">Items Expiring Soon</p>
                                </div>
                            </div>

                            <!-- Bulk Sales Today -->
                            <div class="stat-card" data-stat="bulk-sales">
                                <div class="stat-icon purple">
                                    <i class="fas fa-cubes"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="bulkSales">KSH 0.00</h3>
                                    <p class="stat-label">Bulk Sales Today</p>
                                </div>
                            </div>

                            <!-- Total Customers -->
                            <div class="stat-card" data-stat="total-customers">
                                <div class="stat-icon primary">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="totalCustomers">0</h3>
                                    <p class="stat-label">Total Customers</p>
                                </div>
                            </div>

                            <!-- Total Inventory Value -->
                            <div class="stat-card" data-stat="inventory-value">
                                <div class="stat-icon success">
                                    <i class="fas fa-warehouse"></i>
                                </div>
                                <div class="stat-details">
                                    <h3 class="stat-value" id="inventoryValue">KSH 0.00</h3>
                                    <p class="stat-label">Total Inventory Value</p>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="quick-actions">
                            <button class="quick-action-btn btn-green" data-module="pharmacy-pos">
                                <i class="fas fa-shopping-cart"></i>
                                <span>New Sale</span>
                            </button>
                            <button class="quick-action-btn btn-blue" data-module="inventory-add">
                                <i class="fas fa-plus-circle"></i>
                                <span>Add Item</span>
                            </button>
                            <button class="quick-action-btn btn-orange" data-module="orders-create">
                                <i class="fas fa-clipboard-list"></i>
                                <span>Create Order</span>
                            </button>
                            <button class="quick-action-btn btn-purple" data-module="customers-add">
                                <i class="fas fa-user-plus"></i>
                                <span>Add Customer</span>
                            </button>
                            <button class="quick-action-btn btn-red" data-module="expenses-add">
                                <i class="fas fa-receipt"></i>
                                <span>Add Expense</span>
                            </button>
                            <button class="quick-action-btn btn-teal" data-module="reports-generate">
                                <i class="fas fa-chart-bar"></i>
                                <span>Generate Report</span>
                            </button>
                        </div>

                        <!-- Recent Activities -->
                        <div class="recent-activities">
                            <div class="section-header">
                                <h2>Recent Activities</h2>
                                <button class="view-all-btn" data-module="all-activities">
                                    <span>View All</span>
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                            <div class="activities-table-wrapper">
                                <table class="activities-table">
                                    <thead>
                                        <tr>
                                            <th>Time</th>
                                            <th>Activity</th>
                                            <th>User</th>
                                            <th>Amount</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="activitiesTableBody">
                                        <!-- Activities will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pharmacy Module -->
                <div class="module-content" id="module-pharmacy">
                    <div class="module-header">
                        <h1>Pharmacy</h1>
                        <p>Manage pharmacy operations and medicines</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-clinic-medical"></i>
                            <h2>Pharmacy Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Pharmacy POS Module -->
                <div class="module-content" id="module-pharmacy-pos">
                    <div class="pos-container">
                        <!-- Left Section: Search & Cart -->
                        <div class="pos-left">
                            <!-- Search Section -->
                            <div class="pos-search-section">
                                <div class="pos-search-bar">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="posSearchInput" placeholder="Search inventory by name, barcode, or category..." autocomplete="off">
                                    <div class="pos-search-actions">
                                        <button class="pos-action-btn" id="posScannerBtn" title="Scan Barcode">
                                            <i class="fas fa-barcode"></i>
                                        </button>
                                        <button class="pos-action-btn" id="posManualAddBtn" title="Manual Entry">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <!-- Search Results Dropdown -->
                                <div class="pos-search-results" id="posSearchResults">
                                    <!-- Results populated dynamically -->
                                </div>
                            </div>

                            <!-- Cart Section -->
                            <div class="pos-cart-section">
                                <div class="pos-cart-header">
                                    <h3><i class="fas fa-shopping-cart"></i> Cart Items</h3>
                                    <button class="pos-clear-cart-btn" id="posClearCartBtn">
                                        <i class="fas fa-trash-alt"></i> Clear
                                    </button>
                                </div>
                                <div class="pos-cart-table-wrapper">
                                    <table class="pos-cart-table">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                                <th>Price</th>
                                                <th>Qty</th>
                                                <th>Total</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody id="posCartBody">
                                            <!-- Cart items populated dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                                <div class="pos-cart-empty" id="posCartEmpty">
                                    <i class="fas fa-cart-plus"></i>
                                    <p>Cart is empty</p>
                                    <span>Search and add items to begin</span>
                                </div>
                            </div>
                        </div>

                        <!-- Right Section: Checkout -->
                        <div class="pos-right">
                            <div class="pos-checkout-section">
                                <div class="pos-checkout-header">
                                    <h3><i class="fas fa-calculator"></i> Order Summary</h3>
                                    <button class="pos-view-sales-btn" id="posViewAllSalesBtn">
                                        <i class="fas fa-receipt"></i> View All Sales
                                    </button>
                                </div>

                                <!-- Calculation Summary -->
                                <div class="pos-summary">
                                    <div class="pos-summary-row">
                                        <span>Subtotal</span>
                                        <span id="posSubtotal">KSH 0.00</span>
                                    </div>
                                    <div class="pos-summary-row pos-input-row">
                                        <label for="posDiscount">Discount (KSH)</label>
                                        <input type="number" id="posDiscount" value="0" min="0" step="0.01">
                                    </div>
                                    <div class="pos-summary-row pos-input-row">
                                        <label for="posTax">Tax (%)</label>
                                        <input type="number" id="posTax" value="0" min="0" max="100" step="0.01">
                                    </div>
                                    <div class="pos-summary-row">
                                        <span>Tax Amount</span>
                                        <span id="posTaxAmount">KSH 0.00</span>
                                    </div>
                                    <div class="pos-summary-row pos-total">
                                        <span>Grand Total</span>
                                        <span id="posGrandTotal">KSH 0.00</span>
                                    </div>
                                </div>

                                <!-- Payment Section -->
                                <div class="pos-payment-section">
                                    <h4><i class="fas fa-money-bill-wave"></i> Payment</h4>
                                    <div class="pos-payment-methods">
                                        <button class="pos-payment-method active" data-method="cash">
                                            <i class="fas fa-coins"></i> Cash
                                        </button>
                                        <button class="pos-payment-method" data-method="mpesa">
                                            <i class="fas fa-mobile-alt"></i> M-Pesa
                                        </button>
                                        <button class="pos-payment-method" data-method="card">
                                            <i class="fas fa-credit-card"></i> Card
                                        </button>
                                    </div>

                                    <div class="pos-tendered-section" id="posTenderedSection">
                                        <div class="pos-input-group">
                                            <label for="posAmountTendered">Amount Tendered (KSH)</label>
                                            <input type="number" id="posAmountTendered" value="0" min="0" step="0.01">
                                        </div>
                                        <div class="pos-change-display">
                                            <span>Change</span>
                                            <span id="posChange" class="pos-change-amount">KSH 0.00</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Section -->
                                <div class="pos-customer-section">
                                    <div class="pos-input-group">
                                        <label for="posCustomer"><i class="fas fa-user"></i> Customer (Optional)</label>
                                        <input type="text" id="posCustomer" placeholder="Walk-in Customer">
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="pos-checkout-actions">
                                    <button class="pos-hold-btn" id="posHoldBtn">
                                        <i class="fas fa-pause"></i> Hold
                                    </button>
                                    <button class="pos-checkout-btn" id="posCheckoutBtn">
                                        <i class="fas fa-check-circle"></i> Complete Sale
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Manual Entry Modal -->
                    <div class="pos-modal" id="posManualEntryModal">
                        <div class="pos-modal-content">
                            <div class="pos-modal-header">
                                <h3><i class="fas fa-plus-circle"></i> Add Item Manually</h3>
                                <button class="pos-modal-close" id="posManualEntryClose">&times;</button>
                            </div>
                            <div class="pos-modal-body">
                                <div class="pos-form-group">
                                    <label for="manualItemName">Item Name *</label>
                                    <input type="text" id="manualItemName" placeholder="Enter item name">
                                </div>
                                <div class="pos-form-row">
                                    <div class="pos-form-group">
                                        <label for="manualItemCostPrice">Cost Price (KSH) *</label>
                                        <input type="number" id="manualItemCostPrice" placeholder="0.00" min="0" step="0.01">
                                    </div>
                                    <div class="pos-form-group">
                                        <label for="manualItemPrice">Selling Price (KSH) *</label>
                                        <input type="number" id="manualItemPrice" placeholder="0.00" min="0" step="0.01">
                                    </div>
                                </div>
                                <div class="pos-form-row">
                                    <div class="pos-form-group">
                                        <label for="manualItemQty">Quantity *</label>
                                        <input type="number" id="manualItemQty" value="1" min="1">
                                    </div>
                                    <div class="pos-form-group">
                                        <label>Profit per Unit</label>
                                        <div class="profit-display" id="manualItemProfit">KSH 0.00</div>
                                    </div>
                                </div>
                            </div>
                            <div class="pos-modal-footer">
                                <button class="pos-modal-cancel" id="posManualEntryCancel">Cancel</button>
                                <button class="pos-modal-add" id="posManualEntryAdd">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <!-- Scanner Modal -->
                    <div class="pos-modal" id="posScannerModal">
                        <div class="pos-modal-content">
                            <div class="pos-modal-header">
                                <h3><i class="fas fa-barcode"></i> Barcode Scanner</h3>
                                <button class="pos-modal-close" id="posScannerClose">&times;</button>
                            </div>
                            <div class="pos-modal-body">
                                <div class="pos-scanner-input">
                                    <input type="text" id="posBarcodeInput" placeholder="Scan or enter barcode..." autofocus>
                                    <p class="pos-scanner-hint">Position barcode in front of scanner or type manually</p>
                                </div>
                            </div>
                            <div class="pos-modal-footer">
                                <button class="pos-modal-cancel" id="posScannerCancel">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pharmacy All Sales Module -->
                <div class="module-content" id="module-pharmacy-sales">
                    <div class="module-header">
                        <div class="module-header-content">
                            <div>
                                <h1>Today's Sales</h1>
                                <p>View and manage today's sales in real-time</p>
                            </div>
                            <div class="sales-header-actions">
                                <button class="btn-add-sale" id="btnAddSale" data-module="pharmacy-pos">
                                    <i class="fas fa-cash-register"></i>
                                    <span>Go to POS</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="module-body">
                        <!-- Sales Stats Cards -->
                        <div class="sales-stats-grid">
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon today">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Total Sales</span>
                                    <h3 class="sales-stat-value" id="salesTodayCount">0</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon revenue">
                                    <i class="fas fa-coins"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Total Revenue</span>
                                    <h3 class="sales-stat-value" id="revenueTodayAmount">KSH 0.00</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon profit">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Total Profit</span>
                                    <h3 class="sales-stat-value" id="profitTodayAmount">KSH 0.00</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon all-sales">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Cash Sales</span>
                                    <h3 class="sales-stat-value" id="cashSalesCount">0</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon total-revenue">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">M-Pesa Sales</span>
                                    <h3 class="sales-stat-value" id="mpesaSalesCount">0</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Sales Table Section -->
                        <div class="sales-table-section">
                            <div class="sales-table-header">
                                <div class="sales-table-title">
                                    <h3><i class="fas fa-list"></i> Sales Today</h3>
                                </div>
                                <div class="sales-table-filters">
                                    <div class="sales-search-box">
                                        <i class="fas fa-search"></i>
                                        <input type="text" id="salesSearchInput" placeholder="Search by receipt, customer, or item...">
                                    </div>
                                    <div class="sales-filter-group">
                                        <select id="salesFilterPayment" class="sales-filter-select">
                                            <option value="all">All Payments</option>
                                            <option value="cash">Cash</option>
                                            <option value="mpesa">M-Pesa</option>
                                            <option value="card">Card</option>
                                        </select>
                                        <select id="salesFilterStatus" class="sales-filter-select">
                                            <option value="all">All Status</option>
                                            <option value="completed">Completed</option>
                                            <option value="pending">Pending</option>
                                            <option value="cancelled">Cancelled</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="sales-table-wrapper">
                                <table class="sales-table" id="salesTable">
                                    <thead>
                                        <tr>
                                            <th>Receipt #</th>
                                            <th>Date & Time</th>
                                            <th>Customer</th>
                                            <th>Items</th>
                                            <th>Payment</th>
                                            <th>Total</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="salesTableBody">
                                        <!-- Sales rows populated dynamically -->
                                    </tbody>
                                </table>
                            </div>
                            <div class="sales-table-empty" id="salesTableEmpty">
                                <i class="fas fa-receipt"></i>
                                <h3>No Sales Today</h3>
                                <p>Sales will appear here in real-time as they are made</p>
                            </div>
                            <div class="sales-table-loading" id="salesTableLoading">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Loading sales...</p>
                            </div>
                        </div>
                    </div>

                    <!-- View Sale Details Modal -->
                    <div class="sales-modal" id="viewSaleModal">
                        <div class="sales-modal-content sale-details-modal">
                            <div class="sales-modal-header">
                                <h3><i class="fas fa-receipt"></i> Sale Details</h3>
                                <button class="sales-modal-close" id="closeViewSaleModal">&times;</button>
                            </div>
                            <div class="sales-modal-body" id="saleDetailsContent">
                                <!-- Sale details populated dynamically -->
                            </div>
                            <div class="sales-modal-footer">
                                <button class="btn-print-receipt" id="btnPrintReceipt">
                                    <i class="fas fa-print"></i> Print Receipt
                                </button>
                                <button class="btn-close-details" id="btnCloseDetails">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- All Sales Module -->
                <div class="module-content" id="module-all-sales">
                    <div class="module-header">
                        <div class="module-header-content">
                            <div>
                                <h1>All Sales</h1>
                                <p>Complete sales history and analytics</p>
                            </div>
                            <div class="sales-header-actions">
                                <button class="btn-export-sales" id="btnExportAllSales">
                                    <i class="fas fa-file-export"></i>
                                    <span>Export</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="module-body">
                        <!-- All Sales Stats Cards -->
                        <div class="sales-stats-grid">
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon today">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Total Sales</span>
                                    <h3 class="sales-stat-value" id="allSalesTotalCount">0</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon revenue">
                                    <i class="fas fa-coins"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Total Revenue</span>
                                    <h3 class="sales-stat-value" id="allSalesRevenueAmount">KSH 0.00</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon profit">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Total Profit</span>
                                    <h3 class="sales-stat-value" id="allSalesProfitAmount">KSH 0.00</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon all-sales">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">Cash Sales</span>
                                    <h3 class="sales-stat-value" id="allCashSalesCount">0</h3>
                                </div>
                            </div>
                            <div class="sales-stat-card">
                                <div class="sales-stat-icon total-revenue">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div class="sales-stat-info">
                                    <span class="sales-stat-label">M-Pesa Sales</span>
                                    <h3 class="sales-stat-value" id="allMpesaSalesCount">0</h3>
                                </div>
                            </div>
                        </div>

                        <!-- All Sales Table Section -->
                        <div class="sales-table-section">
                            <div class="sales-table-header">
                                <div class="sales-table-title">
                                    <h3><i class="fas fa-history"></i> Sales History</h3>
                                </div>
                                <div class="sales-table-filters">
                                    <div class="sales-search-box">
                                        <i class="fas fa-search"></i>
                                        <input type="text" id="allSalesSearchInput" placeholder="Search by receipt, customer, or item...">
                                    </div>
                                    <div class="sales-filter-group">
                                        <select id="allSalesFilterDate" class="sales-filter-select">
                                            <option value="all">All Time</option>
                                            <option value="today">Today</option>
                                            <option value="yesterday">Yesterday</option>
                                            <option value="week">This Week</option>
                                            <option value="month">This Month</option>
                                            <option value="year">This Year</option>
                                        </select>
                                        <select id="allSalesFilterPayment" class="sales-filter-select">
                                            <option value="all">All Payments</option>
                                            <option value="cash">Cash</option>
                                            <option value="mpesa">M-Pesa</option>
                                            <option value="card">Card</option>
                                        </select>
                                        <select id="allSalesFilterStatus" class="sales-filter-select">
                                            <option value="all">All Status</option>
                                            <option value="completed">Completed</option>
                                            <option value="approved">Approved</option>
                                            <option value="pending">Pending</option>
                                            <option value="cancelled">Cancelled</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="sales-table-wrapper">
                                <table class="sales-table" id="allSalesTable">
                                    <thead>
                                        <tr>
                                            <th>Receipt #</th>
                                            <th>Date & Time</th>
                                            <th>Customer</th>
                                            <th>Items</th>
                                            <th>Payment</th>
                                            <th>Total</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="allSalesTableBody">
                                        <!-- Sales rows populated dynamically -->
                                    </tbody>
                                </table>
                            </div>
                            <div class="sales-table-empty" id="allSalesTableEmpty">
                                <i class="fas fa-receipt"></i>
                                <h3>No Sales Found</h3>
                                <p>Sales records will appear here</p>
                            </div>
                            <div class="sales-table-loading" id="allSalesTableLoading">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Loading sales history...</p>
                            </div>
                        </div>
                    </div>

                    <!-- View All Sale Details Modal -->
                    <div class="sales-modal" id="viewAllSaleModal">
                        <div class="sales-modal-content sale-details-modal">
                            <div class="sales-modal-header">
                                <h3><i class="fas fa-receipt"></i> Sale Details</h3>
                                <button class="sales-modal-close" id="closeViewAllSaleModal">&times;</button>
                            </div>
                            <div class="sales-modal-body" id="allSaleDetailsContent">
                                <!-- Sale details populated dynamically -->
                            </div>
                            <div class="sales-modal-footer">
                                <button class="btn-print-receipt" id="btnPrintAllReceipt">
                                    <i class="fas fa-print"></i> Print Receipt
                                </button>
                                <button class="btn-close-details" id="btnCloseAllDetails">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- All Activities Module -->
                <div class="module-content" id="module-all-activities">
                    <div class="module-header">
                        <h1>All Activities</h1>
                        <p>Complete history of system activities</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-history"></i>
                            <h2>All Activities Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Prescription Module -->
                <div class="module-content" id="module-prescription">
                    <div class="module-header">
                        <h1>Prescription</h1>
                        <p>Manage prescriptions</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-prescription"></i>
                            <h2>Prescription Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Generate Prescription Module -->
                <div class="module-content" id="module-prescription-generate">
                    <div class="module-header">
                        <h1>Generate Prescription</h1>
                        <p>Create a new prescription for patients</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-file-medical"></i>
                            <h2>Generate Prescription Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Inventory Module -->
                <div class="module-content" id="module-inventory">
                    <div class="module-header">
                        <h1>Inventory</h1>
                        <p>Manage your stock and supplies</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-boxes"></i>
                            <h2>Inventory Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- View Inventory Module -->
                <div class="module-content" id="module-inventory-view">
                    <div class="module-header">
                        <h1>View Inventory</h1>
                        <p>Browse and manage existing inventory items</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-list"></i>
                            <h2>View Inventory Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Add Inventory Module -->
                <div class="module-content" id="module-inventory-add">
                    <div class="module-header">
                        <h1>Add Inventory</h1>
                        <p>Add new items to your inventory</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-plus-circle"></i>
                            <h2>Add Inventory Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- My Orders Module -->
                <div class="module-content" id="module-orders">
                    <div class="module-header">
                        <h1>My Orders</h1>
                        <p>View and manage customer orders</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-shopping-cart"></i>
                            <h2>My Orders Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Create Order Module -->
                <div class="module-content" id="module-orders-create">
                    <div class="module-header">
                        <h1>Create Order</h1>
                        <p>Create a new order</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-plus"></i>
                            <h2>Create Order Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- View Orders Module -->
                <div class="module-content" id="module-orders-view">
                    <div class="module-header">
                        <h1>View Orders</h1>
                        <p>Browse and manage all orders</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-list-alt"></i>
                            <h2>View Orders Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Supplier Module -->
                <div class="module-content" id="module-orders-supplier">
                    <div class="module-header">
                        <h1>Supplier</h1>
                        <p>Manage suppliers and vendor information</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-truck"></i>
                            <h2>Supplier Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Wholesale Module -->
                <div class="module-content" id="module-wholesale">
                    <div class="module-header">
                        <h1>Wholesale</h1>
                        <p>Manage wholesale suppliers and purchases</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-warehouse"></i>
                            <h2>Wholesale Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Create Wholesale Module -->
                <div class="module-content" id="module-wholesale-create">
                    <div class="module-header">
                        <h1>Create Wholesale</h1>
                        <p>Create a new wholesale order</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-plus"></i>
                            <h2>Create Wholesale Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Manage Wholesale Module -->
                <div class="module-content" id="module-wholesale-manage">
                    <div class="module-header">
                        <h1>Manage Wholesale</h1>
                        <p>View and manage wholesale orders and suppliers</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-tasks"></i>
                            <h2>Manage Wholesale Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Customers Module -->
                <div class="module-content" id="module-customers">
                    <div class="module-header">
                        <h1>Customers</h1>
                        <p>Manage customer information and history</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-users"></i>
                            <h2>Customers Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Add Customer Module -->
                <div class="module-content" id="module-customers-add">
                    <div class="module-header">
                        <h1>Add Customer</h1>
                        <p>Add a new customer to the system</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-user-plus"></i>
                            <h2>Add Customer Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Manage Customers Module -->
                <div class="module-content" id="module-customers-manage">
                    <div class="module-header">
                        <h1>Manage Customers</h1>
                        <p>View and manage all customers</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-users-cog"></i>
                            <h2>Manage Customers Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Expenses Module -->
                <div class="module-content" id="module-expenses">
                    <div class="module-header">
                        <h1>Expenses</h1>
                        <p>Track and manage pharmacy expenses</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-money-bill-wave"></i>
                            <h2>Expenses Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Add Expense Module -->
                <div class="module-content" id="module-expenses-add">
                    <div class="module-header">
                        <h1>Add Expense</h1>
                        <p>Record a new expense</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-plus-circle"></i>
                            <h2>Add Expense Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Manage Expenses Module -->
                <div class="module-content" id="module-expenses-manage">
                    <div class="module-header">
                        <h1>Manage Expenses</h1>
                        <p>View and manage all expenses</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <h2>Manage Expenses Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Reports Module -->
                <div class="module-content" id="module-reports">
                    <div class="module-header">
                        <h1>Reports</h1>
                        <p>View sales, inventory and financial reports</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-chart-bar"></i>
                            <h2>Reports Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Generate Report Module -->
                <div class="module-content" id="module-reports-generate">
                    <div class="module-header">
                        <h1>Generate Report</h1>
                        <p>Create and export custom reports</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-file-export"></i>
                            <h2>Generate Report Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Admin Module -->
                <div class="module-content" id="module-admin">
                    <div class="module-header">
                        <h1>Admin Panel</h1>
                        <p>System administration and user management</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-user-shield"></i>
                            <h2>Admin Panel Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Manage Users Module -->
                <div class="module-content" id="module-admin-users">
                    <div class="module-header">
                        <h1>Manage Users</h1>
                        <p>Add, edit and manage system users</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-users-cog"></i>
                            <h2>Manage Users Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>

                <!-- Settings Module -->
                <div class="module-content" id="module-settings">
                    <div class="module-header">
                        <h1>Settings</h1>
                        <p>Configure system preferences</p>
                    </div>
                    <div class="module-body">
                        <div class="placeholder-content">
                            <i class="fas fa-cog"></i>
                            <h2>Settings Module</h2>
                            <p>This module is ready for future implementation.</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/sales.js"></script>
    <script type="module" src="js/all-sales.js"></script>
    <script type="module" src="js/pos-module.js"></script>
    <script src="js/admin-panel.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
